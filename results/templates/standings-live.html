{#
params:
- tournament
- event_years
#}
{% extends "base.html" %}

{% block title %}Live Standings{% endblock %}
{% block hero_title %}Standings{% endblock %}

{% block add_head %}
<link rel="stylesheet" href="/results/static/css/standings.min.css?v=1.0">
{% endblock %}

{% block body %}
    {% from "modal.macro.html" import blank_modal %}
    {{ blank_modal() }}

    {% import 'standings.macro.html' as smac %}
    <div id="main-columns" class="columns">
        <div class="column is-2">
            {{ smac.standings_menu(tournament.tid, tournament.year, event_years) }}
        </div>
        <section id="standings-main-section" class="section column">
            {{ smac.standings_header(tournament.name, tournament.year, add_refresh=True) }}

             {# Tables #}
            <div id="standings-tables">
                <div class="columns">
                {{ smac.standings_table(tournament.picksets) }}
                {{ smac.leaderboard_table(tournament.players) }}
                </div>
            </div>
            <div id="standings-loader-box">
                <div class='lds-ripple'><div></div><div></div></div>
            </div>
        </section>
    </div>
{% endblock %}

{% block add_below %}
<script>
const channelTid = {{ tournament.channel_tid }};
</script>
<script src="/results/static/js/standings.js"></script>
<script src="/results/static/js/standings-modal.js"></script>
{% endblock %}