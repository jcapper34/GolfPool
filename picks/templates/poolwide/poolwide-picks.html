{% extends "base.html" %}
{% block title %}Poolwide Picks - {{ year }}{% endblock %}
{% block hero_title %}Poolwide Picks - {{ year }}{% endblock %}

{% block add_head %}
<link rel="stylesheet" href="/picks/static/css/poolwide-picks.min.css">
<script>
const year = {{ year }};
</script>
{% endblock %}

{% block hero_foot %}
    <div class="hero-foot">
        <div id="picks-tabs" class="tabs is-centered">
            <ul>
                <li class="is-active"><a onclick="prompt_picks_table()">Picks Table</a></li>
                <li><a onclick="prompt_most_picked()">Most Picked</a></li>
            </ul>
        </div>
    </div>
{% endblock %}

{% block body %}
<main>
    <section id="all-picks-section" class="section">
        <div class="table-wrap">
            <table id="picks-table" class="table is-fullwidth is-bordered is-hoverable">
                <thead>
                    <tr>
                        <th>Participant</th>
                        <th colspan="3">Level 1</th>
                        <th colspan="3">Level 2</th>
                        <th colspan="2">Level 3</th>
                        <th colspan="2">Level 4</th>
                    </tr>
                </thead>
                <tbody>
                {% for pickset in all_picks %}
                    <tr class="all-picks-row" onclick="$(this).toggleClass('has-background-grey-lighter')">
                        <td class="participant-name"><a>{{ pickset.name }}</a></td>
                        {% for player in pickset.picks %}
                            <td class="player-name" data-pid="{{ player.pid }}">{{ player.name }}</td>
                        {% endfor %}
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </section>
    <section id="most-picked-section" class="section hide">
    </section>

    {% from "poolwide-picks-macro.html" import compare_tab %}
    <section id="compare-section" class="section hide">
        {{ compare_tab(all_picks) }}
    </section>
</main>
{% endblock %}
{% block add_below %}
    <script src="/picks/static/js/poolwide-picks.js"></script>
{% endblock %}